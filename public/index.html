<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io(); // Railway ÙŠØ¹Ø·ÙŠÙƒ PORT ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

// Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„ØºØ±ÙØ©
socket.emit("joinRoom", "room1");

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø®Ø·Ø±
function sendDangerSelection(player, index) {
    socket.emit("chooseDanger", { roomId: "room1", player, index });
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ù„ÙŠØ©
function sendCellClick(player, index) {
    socket.emit("cellClicked", { roomId: "room1", player, index });
}

// Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±
socket.on("updateDanger", data => {
    const grid = data.player === 1 ? grid1 : grid2;
    const cell = grid.children[data.index];
    cell.classList.add("danger-setup");
});

socket.on("updateCell", data => {
    const grid = data.player === 1 ? grid1 : grid2;
    const cell = grid.children[data.index];
    cell.classList.add("clicked");
    if(data.isDanger) cell.classList.add("danger");
    else cell.textContent = "ğŸ¬";
});
</script>
